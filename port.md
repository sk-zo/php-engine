# 🔌 포트(Port)의 개념과 역할

## 📌 포트란?

**포트(port)** 는 네트워크에서 하나의 컴퓨터(IP 주소) 내에서 **특정 네트워크 프로그램(프로세스)** 을 구분하기 위한 번호입니다.  
즉,

- **IP 주소** → 어느 컴퓨터인가
- **포트 번호** → 그 컴퓨터 안의 어떤 프로그램인가

---

## 🧠 포트의 주요 특징

| 항목 | 설명 |
|------|------|
| 범위 | 0 ~ 65535 (16비트 정수) |
| 용도 | 네트워크 통신 시 요청을 어떤 프로세스에 전달할지 구분 |
| 사용 시점 | TCP/UDP 통신을 위한 소켓이 생성될 때 커널이 할당 |
| 일반 프로세스 | 포트를 사용하지 않음 (파일 처리, 계산 등 네트워크 비사용 프로세스) |

---

## 🛠️ 포트는 언제 할당되는가?

포트는 다음 두 가지 상황에서 커널에 의해 할당됩니다:

### 1. **서버 프로세스가 포트를 열 때**
 - 명시적으로 특정 포트를 열고 클라이언트 요청을 대기
 - 예: 웹 서버 → 포트 80, MySQL → 3306
```c
bind(socket_fd, ..., 포트 번호);
listen(socket_fd, ...);
```

### 2. **클라이언트가 외부 서버에 연결할 때**
 - 클라이언트는 자동으로 **임시 포트(ephemeral port)**를 커널로부터 할당받음
 - 보통 범위는 49152 ~ 65535
---

## 💡 포트는 내부 IPC에 쓰일까?

❌ 아니요. 포트는 **외부 네트워크 통신을 위한 개념**입니다.
내부 프로세스 간 통신(IPC)은 다음과 같은 기술로 이루어집니다:

|IPC 방식 | 예시 |
|--------|-----|
|파이프 (pipe)	|`|
|공유 메모리	|<code>shmget</code>, <code>mmap</code>|
|메시지 큐	|<code>msgsnd</code>, <code>msgrcv</code>|
|UNIX 도메인 소켓	|<code>/tmp/socekt_file</code>|
이들은 네트워크 계층을 거치지 않기 때문에 포트를 사용하지 않습니다.
---

## 🔎 포트 관리 예시
### 포트를 사용하는 프로세스 확인 (리눅스)
```bash
# LISTEN 중인 포트와 해당 프로세스를 확인할 수 있음
ss -tulpn
```

---

## ✅ 정리
 - 포트는 **네트워크를 통한 통신을 위한 식별자**이며, 커널이 TCP/UDP 레벨에서 사용
 - 내부 프로그램 실행만 하는 프로세스는 포트를 사용하지 않는다
 - 클라이언트/서버 모두 포트를 사용할 수 있으며, 커널이 자동 관리
